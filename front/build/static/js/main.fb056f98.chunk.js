(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{45:function(e,t,n){},47:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(21),i=n.n(s),o=(n(45),n(13)),j=(n(46),n(47),n(6)),l=n(16),b=n(22),h=n(58),d=n(56),u=n(15);var O=function(e){var t=r.a.useState({username:"",password:""}),n=Object(o.a)(t,2),c=n[0],s=n[1],i=r.a.useState(""),j=Object(o.a)(i,2),O=(j[0],j[1]);function x(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(l.a)({},n,a))}))}return e.isLoggedIn,Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(h.a,{onSubmit:function(t){t.preventDefault(),O("");var n={username:c.username,password:c.password},a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)};fetch("http://localhost:8080/auth/login",a).then((function(t){200===t.status&&t.json().then((function(t){e.onLogin(t)})).catch((function(e){return console.log(e)}))}))},children:[Object(a.jsx)("h3",{children:"Prijava"}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Korisni\u010dko ime "}),Object(a.jsx)(h.a.Control,{name:"username",type:"text",placeholder:c.username,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Lozinka "}),Object(a.jsx)(h.a.Control,{name:"password",type:"password",placeholder:c.password,onChange:x})]}),Object(a.jsx)(d.a,{type:"submit",variant:"dark",size:"lg",block:!0,disabled:!function(){var e=c.username,t=c.password;return e.length>0&&t.length>5}(),children:" Prijavi se "}),Object(a.jsx)("p",{className:"not-registered text-right",children:Object(a.jsx)(u.b,{to:"/register",children:"Nisi jo\u0161 registriran?"})})]})})},x=n(17),p=n(18),g=n(20),m=n(19),f=n(57),v=n(59),C=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(f.a,{expand:"lg",bg:"light",className:"justify-content-between header",sticky:"top",children:[Object(a.jsx)(f.a.Brand,{href:"/",children:"ZAMJENA SOBA"}),this.props.isLoggedIn?Object(a.jsxs)(v.a,{className:"justify-content-end",children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(v.a.Link,{href:"/soba",children:"Moja soba"})}),Object(a.jsx)(d.a,{variant:"light",onClick:this.props.onLogout,children:" Odjavi se "})]}):Object(a.jsxs)(v.a,{className:"justify-content-end",children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(v.a.Link,{href:"/login",children:"Prijava"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(v.a.Link,{href:"/register",children:"Registracija"})})]})]})}}]),n}(c.Component);var k=function(e){return Object(a.jsx)("div",{className:"middle",children:"Homepage"})},y=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){return Object(a.jsx)(f.a,{bg:"light",className:"justify-content-end footer",children:"Spring rolice 2020"})}}]),n}(c.Component);var L=function(e){var t=r.a.useState({ime:"",prezime:"",jmbag:"",username:"",email:"",lozinka:""}),n=Object(o.a)(t,2),c=n[0],s=n[1],i=r.a.useState(""),j=Object(o.a)(i,2),O=(j[0],j[1]);function x(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(l.a)({},n,a))}))}return Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(h.a,{onSubmit:function(t){t.preventDefault(),O("");var n={ime:c.ime,prezime:c.prezime,jmbag:c.jmbag,username:c.username,email:c.email,lozinka:c.lozinka},a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)};fetch("http://localhost:8080/auth/register",a).then((function(t){401===t.status?O("Register failed"):400===t.status||200===t.status&&t.json().then((function(t){e.onLogin(t)})).catch((function(e){return console.log(e)}))}))},children:[Object(a.jsx)("h3",{children:"Registracija"}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Ime "}),Object(a.jsx)(h.a.Control,{name:"ime",type:"text",placeholder:c.name,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Prezime "}),Object(a.jsx)(h.a.Control,{name:"prezime",type:"text",placeholder:c.prezime,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" JMBAG "}),Object(a.jsx)(h.a.Control,{name:"jmbag",type:"text",placeholder:c.jmbag,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Korisni\u010dko ime "}),Object(a.jsx)(h.a.Control,{name:"username",type:"text",placeholder:c.username,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Email "}),Object(a.jsx)(h.a.Control,{name:"email",type:"email",placeholder:c.email,onChange:x})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Lozinka "}),Object(a.jsx)(h.a.Control,{name:"lozinka",type:"password",placeholder:c.lozinka,onChange:x})]}),Object(a.jsx)(d.a,{type:"submit",variant:"dark",size:"lg",block:!0,disabled:!function(){var e=c.ime,t=c.prezime,n=c.jmbag,a=c.username,r=c.email,s=c.lozinka;return e.length>0&&t.length>0&&10===n.length&&a.length>0&&r.length>0&&s.length>5}(),children:" Registriraj se "}),Object(a.jsx)("p",{className:"already-registered text-right",children:Object(a.jsx)(u.b,{to:"/login",children:"Ve\u0107 si registriran?"})})]})})},S=n(26),z=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={change:!1},a.onChange=a.onChange.bind(Object(S.a)(a)),a}return Object(p.a)(n,[{key:"onChange",value:function(e){this.setState({change:!0}),console.log(e.target)}},{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"middle",children:Object(a.jsxs)(h.a,{onSubmit:this.onSubmit,children:[Object(a.jsx)("h3",{children:" Moja soba "}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Grad "}),Object(a.jsxs)(h.a.Control,{as:"select",defaultValue:"Odaberi...",onChange:this.onChange,children:[Object(a.jsx)("option",{children:" Zagreb"}),Object(a.jsx)("option",{children:" Split"}),Object(a.jsx)("option",{children:" Zadar"}),Object(a.jsx)("option",{children:" Rijeka"})]})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Dom "}),Object(a.jsx)(h.a.Control,{name:"dom",type:"text",onChange:this.onChange})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Kat "}),Object(a.jsx)(h.a.Control,{name:"kat",type:"text",onChange:this.onChange})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Broj kreveta "}),Object(a.jsxs)(h.a.Control,{as:"select",defaultValue:"Odaberi...",onChange:this.onChange,children:[Object(a.jsx)("option",{children:" Jednokrevetna soba"}),Object(a.jsx)("option",{children:" Dvokrevetna soba"}),Object(a.jsx)("option",{children:" Trokrevetna soba"}),Object(a.jsx)("option",{children:" Vi\u0161ekrevetna soba"})]})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Tip kupaonice "}),Object(a.jsxs)(h.a.Control,{as:"select",defaultValue:"Odaberi...",onChange:this.onChange,children:[Object(a.jsx)("option",{children:" U sobi"}),Object(a.jsx)("option",{children:" Zajedni\u010dki"})]})]}),Object(a.jsxs)(h.a.Group,{children:[Object(a.jsx)(h.a.Label,{children:" Komentar "}),Object(a.jsx)(h.a.Control,{name:"komentar",type:"text",onChange:this.onChange})]}),Object(a.jsx)(d.a,{type:"submit",variant:"dark",size:"lg",block:!0,disabled:!this.state.change,children:" Spremi promjene "})]})})}}]),n}(c.Component);var N=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(j.f)();function i(e){localStorage.setItem("user",JSON.stringify(e)),r(!0),s.push("/")}return Object(c.useEffect)((function(){return r(null!==localStorage.getItem("user"))})),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(C,{onLogout:function(){localStorage.clear(),r(!1)},isLoggedIn:n}),Object(a.jsx)("div",{className:"outer",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/login",component:function(){return Object(a.jsx)(O,{onLogin:i,isLoggedIn:n})}}),Object(a.jsx)(j.a,{exact:!0,path:"/register",component:function(){return Object(a.jsx)(L,{onLogin:i,isLoggedIn:n})}}),Object(a.jsx)(j.a,{exact:!0,path:"/soba",component:function(){return Object(a.jsx)(z,{})}}),Object(a.jsx)(j.a,{path:"/",component:k})]})}),Object(a.jsx)(y,{})]})};i.a.render(Object(a.jsx)(u.a,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.fb056f98.chunk.js.map